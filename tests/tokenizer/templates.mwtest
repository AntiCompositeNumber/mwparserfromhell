name:   no_params
label:  simplest type of template
input:  "{{template}}"
output: [TemplateOpen(), Text(text="template"), TemplateClose()]

---

name:   one_param_unnamed
label:  basic template with one unnamed parameter
input:  "{{foo|bar}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateClose()]

---

name:   one_param_named
label:  basic template with one named parameter
input:  "{{foo|bar=baz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateParamEquals(), Text(text="baz"), TemplateClose()]

---

name:   multiple_unnamed_params
label:  basic template with multiple unnamed parameters
input:  "{{foo|bar|baz|biz|buzz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateParamSeparator(), Text(text="baz"), TemplateParamSeparator(), Text(text="biz"), TemplateParamSeparator(), Text(text="buzz"), TemplateClose()]

---

name:   multiple_named_params
label:  basic template with multiple named parameters
input:  "{{foo|bar=baz|biz=buzz|buff=baff|usr=bin}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateParamEquals(), Text(text="baz"), TemplateParamSeparator(), Text(text="biz"), TemplateParamEquals(), Text(text="buzz"), TemplateParamSeparator(), Text(text="buff"), TemplateParamEquals(), Text(text="baff"), TemplateParamSeparator(), Text(text="usr"), TemplateParamEquals(), Text(text="bin"), TemplateClose()]

---

name:   multiple_mixed_params
label:  basic template with multiple unnamed/named parameters
input:  "{{foo|bar=baz|biz|buzz=buff|usr|bin}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateParamEquals(), Text(text="baz"), TemplateParamSeparator(), Text(text="biz"), TemplateParamSeparator(), Text(text="buzz"), TemplateParamEquals(), Text(text="buff"), TemplateParamSeparator(), Text(text="usr"), TemplateParamSeparator(), Text(text="bin"), TemplateClose()]

---

name:   multiple_mixed_params2
label:  basic template with multiple unnamed/named parameters in another order
input:  "{{foo|bar|baz|biz=buzz|buff=baff|usr=bin}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateParamSeparator(), Text(text="baz"), TemplateParamSeparator(), Text(text="biz"), TemplateParamEquals(), Text(text="buzz"), TemplateParamSeparator(), Text(text="buff"), TemplateParamEquals(), Text(text="baff"), TemplateParamSeparator(), Text(text="usr"), TemplateParamEquals(), Text(text="bin"), TemplateClose()]

---

name:   nested_unnamed_param
label:  nested template as an unnamed parameter
input:  "{{foo|{{bar}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateClose()]

---

name:   nested_named_param_value
label:  nested template as a parameter value with a named parameter
input:  "{{foo|bar={{baz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar"), TemplateParamEquals(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateClose()]

---

name:   nested_named_param_name_and_value
label:  nested templates as a parameter name and value
input:  "{{foo|{{bar}}={{baz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamEquals(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start
label:  nested template at the beginning of a template name
input:  "{{{{foo}}bar}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateClose()]

---

name:   nested_name_start_unnamed_param
label:  nested template at the beginning of a template name and as an unnamed parameter
input:  "{{{{foo}}bar|{{baz}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateParamSeparator(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start_named_param_value
label:  nested template at the beginning of a template name and as a parameter value with a named parameter
input:  "{{{{foo}}bar|baz={{biz}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateParamSeparator(), Text(text="baz"), TemplateParamEquals(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start_named_param_name_and_value
label:  nested template at the beginning of a template name and as a parameter name and value
input:  "{{{{foo}}bar|{{baz}}={{biz}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateParamSeparator(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateParamEquals(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_end
label:  nested template at the end of a template name
input:  "{{foo{{bar}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateClose()]

---

name:   nested_name_end_unnamed_param
label:  nested template at the end of a template name and as an unnamed parameter
input:  "{{foo{{bar}}|{{baz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamSeparator(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_end_named_param_value
label:  nested template at the end of a template name and as a parameter value with a named parameter
input:  "{{foo{{bar}}|baz={{biz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamSeparator(), Text(text="baz"), TemplateParamEquals(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_end_named_param_name_and_value
label:  nested template at the end of a template name and as a parameter name and value
input:  "{{foo{{bar}}|{{baz}}={{biz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamSeparator(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateParamEquals(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_mid
label:  nested template in the middle of a template name
input:  "{{foo{{bar}}baz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateClose()]

---

name:   nested_name_mid_unnamed_param
label:  nested template in the middle of a template name and as an unnamed parameter
input:  "{{foo{{bar}}baz|{{biz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateParamSeparator(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_mid_named_param_value
label:  nested template in the middle of a template name and as a parameter value with a named parameter
input:  "{{foo{{bar}}baz|biz={{buzz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateParamSeparator(), Text(text="biz"), TemplateParamEquals(), TemplateOpen(), Text(text="buzz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_mid_named_param_name_and_value
label:  nested template in the middle of a template name and as a parameter name and value
input:  "{{foo{{bar}}baz|{{biz}}={{buzz}}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateOpen(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateParamSeparator(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateParamEquals(), TemplateOpen(), Text(text="buzz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start_end
label:  nested template at the beginning and end of a template name
input:  "{{{{foo}}{{bar}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start_end_unnamed_param
label:  nested template at the beginning and end of a template name and as an unnamed parameter
input:  "{{{{foo}}{{bar}}|{{baz}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamSeparator(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start_end_named_param_value
label:  nested template at the beginning and end of a template name and as a parameter value with a named parameter
input:  "{{{{foo}}{{bar}}|baz={{biz}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamSeparator(), Text(text="baz"), TemplateParamEquals(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_name_start_end_named_param_name_and_value
label:  nested template at the beginning and end of a template name and as a parameter name and value
input:  "{{{{foo}}{{bar}}|{{baz}}={{biz}}}}"
output: [TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), TemplateOpen(), Text(text="bar"), TemplateClose(), TemplateParamSeparator(), TemplateOpen(), Text(text="baz"), TemplateClose(), TemplateParamEquals(), TemplateOpen(), Text(text="biz"), TemplateClose(), TemplateClose()]

---

name:   nested_names_multiple
label:  multiple nested templates within nested templates
input:  "{{{{{{{{foo}}bar}}baz}}biz}}"
output: [TemplateOpen(), TemplateOpen(), TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateClose(), Text(text="biz"), TemplateClose()]

---

name:   nested_names_multiple_unnamed_param
label:  multiple nested templates within nested templates with a nested unnamed parameter
input:  "{{{{{{{{foo}}bar}}baz}}biz|{{buzz}}}}"
output: [TemplateOpen(), TemplateOpen(), TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateClose(), Text(text="biz"), TemplateParamSeparator(), TemplateOpen(), Text(text="buzz"), TemplateClose(), TemplateClose()]

---

name:   nested_names_multiple_named_param_value
label:  multiple nested templates within nested templates with a nested parameter value in a named parameter
input:  "{{{{{{{{foo}}bar}}baz}}biz|buzz={{bin}}}}"
output: [TemplateOpen(), TemplateOpen(), TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateClose(), Text(text="biz"), TemplateParamSeparator(), Text(text="buzz"), TemplateParamEquals(), TemplateOpen(), Text(text="bin"), TemplateClose(), TemplateClose()]

---

name:   nested_names_multiple_named_param_name_and_value
label:  multiple nested templates within nested templates with a nested parameter name and value
input:  "{{{{{{{{foo}}bar}}baz}}biz|{{buzz}}={{bin}}}}"
output: [TemplateOpen(), TemplateOpen(), TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateClose(), Text(text="baz"), TemplateClose(), Text(text="biz"), TemplateParamSeparator(), TemplateOpen(), Text(text="buzz"), TemplateClose(), TemplateParamEquals(), TemplateOpen(), Text(text="bin"), TemplateClose(), TemplateClose()]

---

name:   mixed_nested_templates
label:  mixed assortment of nested templates within template names, parameter names, and values
input:  "{{{{{{{{foo}}bar|baz=biz}}buzz}}usr|{{bin}}}}"
output: [TemplateOpen(), TemplateOpen(), TemplateOpen(), TemplateOpen(), Text(text="foo"), TemplateClose(), Text(text="bar"), TemplateParamSeparator(), Text(text="baz"), TemplateParamEquals(), Text(text="biz"), TemplateClose(), Text(text="buzz"), TemplateClose(), Text(text="usr"), TemplateParamSeparator(), TemplateOpen(), Text(text="bin"), TemplateClose(), TemplateClose()]

---

name:   newline_start
label:  a newline at the start of a template name
input:  "{{\nfoobar}}"
output: [TemplateOpen(), Text(text="\nfoobar"), TemplateClose()]

---

name:   newline_end
label:  a newline at the end of a template name
input:  "{{foobar\n}}"
output: [TemplateOpen(), Text(text="foobar\n"), TemplateClose()]

---

name:   newline_start_end
label:  a newline at the start and end of a template name
input:  "{{\nfoobar\n}}"
output: [TemplateOpen(), Text(text="\nfoobar\n"), TemplateClose()]

---

name:   newline_mid
label:  a newline at the middle of a template name
input:  "{{foo\nbar}}"
output: [Text(text="{{foo\nbar}}")]

---

name:   newline_start_mid
label:  a newline at the start and middle of a template name
input:  "{{\nfoo\nbar}}"
output: [Text(text="{{\nfoo\nbar}}")]

---

name:   newline_mid_end
label:  a newline at the middle and end of a template name
input:  "{{foo\nbar\n}}"
output: [Text(text="{{foo\nbar\n}}")]

---

name:   newline_start_mid_end
label:  a newline at the start, middle, and end of a template name
input:  "{{\nfoo\nbar\n}}"
output: [Text(text="{{\nfoo\nbar\n}}")]

---

name:   newline_unnamed_param_start
label:  a newline at the start of an unnamed template parameter
input:  "{{foo|\nbar}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateClose()]

---

name:   newline_unnamed_param_end
label:  a newline at the end of an unnamed template parameter
input:  "{{foo|bar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateClose()]

---

name:   newline_unnamed_param_start_end
label:  a newline at the start and end of an unnamed template parameter
input:  "{{foo|\nbar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateClose()]

---

name:   newline_unnamed_param_start_mid
label:  a newline at the start and middle of an unnamed template parameter
input:  "{{foo|\nb\nar}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nb\nar"), TemplateClose()]

---

name:   newline_unnamed_param_mid_end
label:  a newline at the middle and end of an unnamed template parameter
input:  "{{foo|b\nar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="b\nar\n"), TemplateClose()]

---

name:   newline_unnamed_param_start_mid_end
label:  a newline at the start, middle, and end of an unnamed template parameter
input:  "{{foo|\nb\nar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nb\nar\n"), TemplateClose()]

---

name:   newline_start_unnamed_param_start
label:  a newline at the start of a template name and at the start of an unnamed template parameter
input:  "{{\nfoo|\nbar}}"
output: [TemplateOpen(), Text(text="\nfoo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateClose()]

---

name:   newline_start_unnamed_param_end
label:  a newline at the start of a template name and at the end of an unnamed template parameter
input:  "{{\nfoo|bar\n}}"
output: [TemplateOpen(), Text(text="\nfoo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateClose()]

---

name:   newline_start_unnamed_param_start_end
label:  a newline at the start of a template name and at the start and end of an unnamed template parameter
input:  "{{\nfoo|\nbar\n}}"
output: [TemplateOpen(), Text(text="\nfoo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateClose()]

---

name:   newline_start_unnamed_param_start_mid
label:  a newline at the start of a template name and at the start and middle of an unnamed template parameter
input:  "{{\nfoo|\nb\nar}}"
output: [TemplateOpen(), Text(text="\nfoo"), TemplateParamSeparator(), Text(text="\nb\nar"), TemplateClose()]

---

name:   newline_start_unnamed_param_mid_end
label:  a newline at the start of a template name and at the middle and end of an unnamed template parameter
input:  "{{\nfoo|b\nar\n}}"
output: [TemplateOpen(), Text(text="\nfoo"), TemplateParamSeparator(), Text(text="b\nar\n"), TemplateClose()]

---

name:   newline_start_unnamed_param_start_mid_end
label:  a newline at the start of a template name and at the start, middle, and end of an unnamed template parameter
input:  "{{\nfoo|\nb\nar\n}}"
output: [TemplateOpen(), Text(text="\nfoo"), TemplateParamSeparator(), Text(text="\nb\nar\n"), TemplateClose()]

---

name:   newline_end_unnamed_param_start
label:  a newline at the end of a template name and at the start of an unnamed template parameter
input:  "{{foo\n|\nbar}}"
output: [TemplateOpen(), Text(text="foo\n"), TemplateParamSeparator(), Text(text="\nbar"), TemplateClose()]

---

name:   newline_end_unnamed_param_end
label:  a newline at the end of a template name and at the end of an unnamed template parameter
input:  "{{foo\n|bar\n}}"
output: [TemplateOpen(), Text(text="foo\n"), TemplateParamSeparator(), Text(text="bar\n"), TemplateClose()]

---

name:   newline_end_unnamed_param_start_end
label:  a newline at the end of a template name and at the start and end of an unnamed template parameter
input:  "{{foo\n|\nbar\n}}"
output: [TemplateOpen(), Text(text="foo\n"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateClose()]

---

name:   newline_end_unnamed_param_start_mid
label:  a newline at the end of a template name and at the start and middle of an unnamed template parameter
input:  "{{foo\n|\nb\nar}}"
output: [TemplateOpen(), Text(text="foo\n"), TemplateParamSeparator(), Text(text="\nb\nar"), TemplateClose()]

---

name:   newline_end_unnamed_param_mid_end
label:  a newline at the end of a template name and at the middle and end of an unnamed template parameter
input:  "{{foo\n|b\nar\n}}"
output: [TemplateOpen(), Text(text="foo\n"), TemplateParamSeparator(), Text(text="b\nar\n"), TemplateClose()]

---

name:   newline_end_unnamed_param_start_mid_end
label:  a newline at the end of a template name and at the start, middle, and end of an unnamed template parameter
input:  "{{foo\n|\nb\nar\n}}"
output: [TemplateOpen(), Text(text="foo\n"), TemplateParamSeparator(), Text(text="\nb\nar\n"), TemplateClose()]

---

name:   newline_start_end_unnamed_param_end
label:  a newline at the start and end of a template name and the start of an unnamed template parameter
input:  "{{\nfoo\n|\nbar}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="\nbar"), TemplateClose()]

---

name:   newline_start_end_unnamed_param_end
label:  a newline at the start and end of a template name and the end of an unnamed template parameter
input:  "{{\nfoo\n|bar\n}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="bar\n"), TemplateClose()]

---

name:   newline_start_end_unnamed_param_start_end
label:  a newline at the start and end of a template name and the start and end of an unnamed template parameter
input:  "{{\nfoo\n|\nbar\n}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateClose()]

---

name:   newline_start_end_unnamed_param_start_mid
label:  a newline at the start and end of a template name and the start and middle of an unnamed template parameter
input:  "{{\nfoo\n|\nb\nar}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="\nb\nar"), TemplateClose()]

---

name:   newline_start_end_unnamed_param_mid_end
label:  a newline at the start and end of a template name and the middle and end of an unnamed template parameter
input:  "{{\nfoo\n|b\nar\n}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="b\nar\n"), TemplateClose()]

---

name:   newline_start_end_unnamed_param_start_mid_end
label:  a newline at the start and end of a template name and the start, middle, and end of an unnamed template parameter
input:  "{{\nfoo\n|\nb\nar\n}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="\nb\nar\n"), TemplateClose()]

---

name:   newline_mid_unnamed_param_start
label:  a newline at the middle of a template name and at the start of an unnamed template parameter
input:  "{{f\noo|\nbar}}"
output: [Text(text="{{f\noo|\nbar}}")]

---

name:   newline_start_mid_unnamed_param_start
label:  a newline at the start and middle of a template name and at the start of an unnamed template parameter
input:  "{{\nf\noo|\nbar}}"
output: [Text(text="{{\nf\noo|\nbar}}")]

---

name:   newline_start_end_unnamed_param_start
label:  a newline at the middle and of a template name and at the start of an unnamed template parameter
input:  "{{f\noo\n|\nbar}}"
output: [Text(text="{{f\noo\n|\nbar}}")]

---

name:   newline_start_mid_end_unnamed_param_start
label:  a newline at the start, middle, and end of a template name and at the start of an unnamed template parameter
input:  "{{\nf\noo\n|\nbar}}"
output: [Text(text="{{\nf\noo\n|\nbar}}")]

---

name:   newline_named_param_value_start
label:  a newline at the start of a named parameter value
input:  "{{foo|1=\nbar}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="1"), TemplateParamEquals(), Text(text="\nbar"), TemplateClose()]

---

name:   newline_named_param_value_end
label:  a newline at the end of a named parameter value
input:  "{{foo|1=bar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="1"), TemplateParamEquals(), Text(text="bar\n"), TemplateClose()]

---

name:   newline_named_param_value_start_end
label:  a newline at the start and end of a named parameter value
input:  "{{foo|1=\nbar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="1"), TemplateParamEquals(), Text(text="\nbar\n"), TemplateClose()]

---

name:   newline_named_param_value_start_mid
label:  a newline at the start and middle of a named parameter value
input:  "{{foo|1=\nb\nar}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="1"), TemplateParamEquals(), Text(text="\nb\nar"), TemplateClose()]

---

name:   newline_named_param_value_mid_end
label:  a newline at the middle and end of a named parameter value
input:  "{{foo|1=b\nar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="1"), TemplateParamEquals(), Text(text="b\nar\n"), TemplateClose()]

---

name:   newline_named_param_value_start_mid_end
label:  a newline at the start, middle, and end of a named parameter value
input:  "{{foo|1=\nb\nar\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="1"), TemplateParamEquals(), Text(text="\nb\nar\n"), TemplateClose()]

---

name:   newline_named_param_name_start
label:  a newline at the start of a parameter name
input:  "{{foo|\nbar=baz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateParamEquals(), Text(text="baz"), TemplateClose()]

---

name:   newline_named_param_name_end
label:  a newline at the end of a parameter name
input:  "{{foo|bar\n=baz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateParamEquals(), Text(text="baz"), TemplateClose()]

---

name:   newline_named_param_name_start_end
label:  a newline at the start and end of a parameter name
input:  "{{foo|\nbar\n=baz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateParamEquals(), Text(text="baz"), TemplateClose()]

---

name:   newline_named_param_name_mid
label:  a newline at the middle of a parameter name
input:  "{{foo|b\nar=baz}}"
output: [Text(text="{{foo|b\nar=baz}}")]

---

name:   newline_named_param_name_start_mid
label:  a newline at the start and middle of a parameter name
input:  "{{foo|\nb\nar=baz}}"
output: [Text(text="{{foo|\nb\nar=baz}}")]

---

name:   newline_named_param_name_mid_end
label:  a newline at the middle and end of a parameter name
input:  "{{foo|b\nar\n=baz}}"
output: [Text(text="{{foo|b\nar\n=baz}}")]

---

name:   newline_named_param_name_start_mid_end
label:  a newline at the start, middle, and end of a parameter name
input:  "{{foo|\nb\nar\n=baz}}"
output: [Text(text="{{foo|\nb\nar\n=baz}}")]

---

name:   newline_named_param_name_start_param_value_end
label:  a newline at the start of a parameter name and the end of a parameter value
input:  "{{foo|\nbar=baz\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateParamEquals(), Text(text="baz\n"), TemplateClose()]

---

name:   newline_named_param_name_end_param_value_end
label:  a newline at the end of a parameter name and the end of a parameter value
input:  "{{foo|bar\n=baz\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateParamEquals(), Text(text="baz\n"), TemplateClose()]

---

name:   newline_named_param_name_start_end_param_value_end
label:  a newline at the start and end of a parameter name and the end of a parameter value
input:  "{{foo|\nbar\n=baz\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateParamEquals(), Text(text="baz\n"), TemplateClose()]

---

name:   newline_named_param_name_start_mid_param_value_end
label:  a newline at the start and middle of a parameter name and the end of a parameter value
input:  "{{foo|\nb\nar=baz\n}}"
output: [Text(text="{{foo|\nb\nar=baz\n}}")]

---

name:   newline_named_param_name_mid_end_param_value_end
label:  a newline at the middle and end of a parameter name and the end of a parameter value
input:  "{{foo|b\nar\n=baz\n}}"
output: [Text(text="{{foo|b\nar\n=baz\n}}")]

---

name:   newline_named_param_name_start_mid_end_param_value_end
label:  a newline at the start, middle, and end of a parameter name and at the end of a parameter value
input:  "{{foo|\nb\nar\n=baz\n}}"
output: [Text(text="{{foo|\nb\nar\n=baz\n}}")]

---

name:   newline_named_param_name_start_param_value_start
label:  a newline at the start of a parameter name and at the start of a parameter value
input:  "{{foo|\nbar=\nbaz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateParamEquals(), Text(text="\nbaz"), TemplateClose()]

---

name:   newline_named_param_name_end_param_value_start
label:  a newline at the end of a parameter name and at the start of a parameter value
input:  "{{foo|bar\n=\nbaz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateParamEquals(), Text(text="\nbaz"), TemplateClose()]

---

name:   newline_named_param_name_start_end_param_value_start
label:  a newline at the start and end of a parameter name and at the start of a parameter value
input:  "{{foo|\nbar\n=\nbaz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateParamEquals(), Text(text="\nbaz"), TemplateClose()]

---

name:   newline_named_param_name_start_mid_param_value_start
label:  a newline at the start and middle of a parameter name and at the start of a parameter value
input:  "{{foo|\nb\nar=\nbaz}}"
output: [Text(text="{{foo|\nb\nar=\nbaz}}")]

---

name:   newline_named_param_name_mid_end_param_value_start
label:  a newline at the middle and end of a parameter name and at the start of a parameter value
input:  "{{foo|b\nar\n=\nbaz}}"
output: [Text(text="{{foo|b\nar\n=\nbaz}}")]

---

name:   newline_named_param_name_start_mid_end_param_value_start
label:  a newline at the start, middle, and end of a parameter name and at the start of a parameter value
input:  "{{foo|\nb\nar\n=\nbaz}}"
output: [Text(text="{{foo|\nb\nar\n=\nbaz}}")]

---

name:   newline_named_param_name_start_param_value_start_end
label:  a newline at the start of a parameter name and at the start and end of a parameter value
input:  "{{foo|\nbar=\nbaz\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateParamEquals(), Text(text="\nbaz\n"), TemplateClose()]

---

name:   newline_named_param_name_end_param_value_start_end
label:  a newline at the end of a parameter name and at the start and end of a parameter value
input:  "{{foo|bar\n=\nbaz\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateParamEquals(), Text(text="\nbaz\n"), TemplateClose()]

---

name:   newline_named_param_name_start_end_param_value_start_end
label:  a newline at the start and end of a parameter name and at the start and end of a parameter value
input:  "{{foo|\nbar\n=\nbaz\n}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateParamEquals(), Text(text="\nbaz\n"), TemplateClose()]

---

name:   newline_named_param_name_start_mid_param_value_start_end
label:  a newline at the start and middle of a parameter name and at the start and end of a parameter value
input:  "{{foo|\nb\nar=\nbaz\n}}"
output: [Text(text="{{foo|\nb\nar=\nbaz\n}}")]

---

name:   newline_named_param_name_mid_end_param_value_start_end
label:  a newline at the middle and end of a parameter name and at the start and end of a parameter value
input:  "{{foo|b\nar\n=\nbaz\n}}"
output: [Text(text="{{foo|b\nar\n=\nbaz\n}}")]

---

name:   newline_named_param_name_start_mid_end_param_value_start_end
label:  a newline at the start, middle, and end of a parameter name and at the start and end of a parameter value
input:  "{{foo|\nb\nar\n=\nbaz\n}}"
output: [Text(text="{{foo|\nb\nar\n=\nbaz\n}}")]

---

name:   newline_named_param_name_start_param_value_mid
label:  a newline at the start of a parameter name and at the middle of a parameter value
input:  "{{foo|\nbar=ba\nz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar"), TemplateParamEquals(), Text(text="ba\nz"), TemplateClose()]

---

name:   newline_named_param_name_end_param_value_mid
label:  a newline at the end of a parameter name and at the middle of a parameter value
input:  "{{foo|bar\n=ba\nz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="bar\n"), TemplateParamEquals(), Text(text="ba\nz"), TemplateClose()]

---

name:   newline_named_param_name_start_end_param_value_mid
label:  a newline at the start and end of a parameter name and at the middle of a parameter value
input:  "{{foo|\nbar\n=ba\nz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateParamEquals(), Text(text="ba\nz"), TemplateClose()]

---

name:   newline_named_param_name_start_mid_param_value_mid
label:  a newline at the start and middle of a parameter name and at the middle of a parameter value
input:  "{{foo|\nb\nar=ba\nz}}"
output: [Text(text="{{foo|\nb\nar=ba\nz}}")]

---

name:   newline_named_param_name_mid_end_param_value_mid
label:  a newline at the middle and end of a parameter name and at the middle of a parameter value
input:  "{{foo|b\nar\n=ba\nz}}"
output: [Text(text="{{foo|b\nar\n=ba\nz}}")]

---

name:   newline_named_param_start_mid_end_param_value_mid
label:  a newline at the start, middle, and end of a parameter name and at the middle of a parameter value
input:  "{{foo|\nb\nar\n=ba\nz}}"
output: [Text(text="{{foo|\nb\nar\n=ba\nz}}")]

---

name:   newline_wildcard
label:  a random, complex assortment of templates and newlines
input:  "{{\nfoo\n|\nbar\n=\nb\naz\n|\nb\nuz\n}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="\nbar\n"), TemplateParamEquals(), Text(text="\nb\naz\n"), TemplateParamSeparator(), Text(text="\nb\nuz\n"), TemplateClose()]

---

name:   newline_wildcard_redux
label:  an even more random and complex assortment of templates and newlines
input:  "{{\nfoo\n|\n{{\nbar\n|\nbaz\n=\nb\niz\n}}\n=\nb\nuzz\n}}"
output: [TemplateOpen(), Text(text="\nfoo\n"), TemplateParamSeparator(), Text(text="\n"), TemplateOpen(), Text(text="\nbar\n"), TemplateParamSeparator(), Text(text="\nbaz\n"), TemplateParamEquals(), Text(text="\nb\niz\n"), TemplateClose(), Text(text="\n"), TemplateParamEquals(), Text(text="\nb\nuzz\n"), TemplateClose()]

---

name:   invalid_name_left_brace_middle
label:  invalid characters in template name: left brace in middle
input:  "{{foo{bar}}"
output: [Text(text="{{foo{bar}}")]

---

name:   invalid_name_right_brace_middle
label:  invalid characters in template name: right brace in middle
input:  "{{foo}bar}}"
output: [Text(text="{{foo}bar}}")]

---

name:   invalid_name_left_braces
label:  invalid characters in template name: two left braces in middle
input:  "{{foo{b{ar}}"
output: [Text(text="{{foo{b{ar}}")]

---

name:   invalid_name_left_bracket_middle
label:  invalid characters in template name: left bracket in middle
input:  "{{foo[bar}}"
output: [Text(text="{{foo[bar}}")]

---

name:   invalid_name_right_bracket_middle
label:  invalid characters in template name: right bracket in middle
input:  "{{foo]bar}}"
output: [Text(text="{{foo]bar}}")]

---

name:   invalid_name_left_bracket_start
label:  invalid characters in template name: left bracket at start
input:  "{{[foobar}}"
output: [Text(text="{{[foobar}}")]

---

name:   invalid_name_right_bracket_start
label:  invalid characters in template name: right bracket at end
input:  "{{foobar]}}"
output: [Text(text="{{foobar]}}")]

---

name:   valid_name_left_brace_start
label:  valid characters in template name: left brace at start
input:  "{{{foobar}}"
output: [Text(text="{"), TemplateOpen(), Text(text="foobar"), TemplateClose()]

---

name:   valid_unnamed_param_left_brace
label:  valid characters in unnamed template parameter: left brace
input:  "{{foo|ba{r}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="ba{r"), TemplateClose()]

---

name:   valid_unnamed_param_braces
label:  valid characters in unnamed template parameter: left and right braces
input:  "{{foo|ba{r}}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="ba{r"), TemplateClose(), Text(text="}")]

---

name:   valid_param_name_braces
label:  valid characters in template parameter name: left and right braces
input:  "{{foo|ba{r}=baz}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="ba{r}"), TemplateParamEquals(), Text(text="baz"), TemplateClose()]

---

name:   valid_param_name_brackets
label:  valid characters in unnamed template parameter: left and right brackets
input:  "{{foo|ba[r]}}"
output: [TemplateOpen(), Text(text="foo"), TemplateParamSeparator(), Text(text="ba[r]"), TemplateClose()]

---

name:   incomplete_plain
label:  incomplete templates that should fail gracefully: no close whatsoever
input:  "{{stuff}} {{foobar"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foobar")]

---

name:   incomplete_right_brace
label:  incomplete templates that should fail gracefully: only one right brace
input:  "{{stuff}} {{foobar}"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foobar}")]

---

name:   incomplete_pipe
label:  incomplete templates that should fail gracefully: a pipe
input:  "{{stuff}} {{foobar|"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foobar|")]

---

name:   incomplete_unnamed_param
label:  incomplete templates that should fail gracefully: an unnamed parameter
input:  "{{stuff}} {{foo|bar"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar")]

---

name:   incomplete_unnamed_param_pipe
label:  incomplete templates that should fail gracefully: an unnamed parameter, then a pipe
input:  "{{stuff}} {{foo|bar|"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar|")]

---

name:   incomplete_valueless_param
label:  incomplete templates that should fail gracefully: an a named parameter with no value
input:  "{{stuff}} {{foo|bar="
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=")]

---

name:   incomplete_valueless_param_pipe
label:  incomplete templates that should fail gracefully: a named parameter with no value, then a pipe
input:  "{{stuff}} {{foo|bar=|"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=|")]

---

name:   incomplete_named_param
label:  incomplete templates that should fail gracefully: a named parameter with a value
input:  "{{stuff}} {{foo|bar=baz"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=baz")]

---

name:   incomplete_named_param_pipe
label:  incomplete templates that should fail gracefully: a named parameter with a value, then a paipe
input:  "{{stuff}} {{foo|bar=baz|"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=baz|")]

---

name:   incomplete_two_unnamed_params
label:  incomplete templates that should fail gracefully: two unnamed parameters
input:  "{{stuff}} {{foo|bar|baz"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar|baz")]

---

name:   incomplete_unnamed_param_valueless_param
label:  incomplete templates that should fail gracefully: an unnamed parameter, then a named parameter with no value
input:  "{{stuff}} {{foo|bar|baz="
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar|baz=")]

---

name:   incomplete_unnamed_param_named_param
label:  incomplete templates that should fail gracefully: an unnamed parameter, then a named parameter with a value
input:  "{{stuff}} {{foo|bar|baz=biz"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar|baz=biz")]

---

name:   incomplete_named_param_unnamed_param
label:  incomplete templates that should fail gracefully: a named parameter with a value, then an unnamed parameter
input:  "{{stuff}} {{foo|bar=baz|biz"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=baz|biz")]

---

name:   incomplete_named_param_valueless_param
label:  incomplete templates that should fail gracefully: a named parameter with a value, then a named parameter with no value
input:  "{{stuff}} {{foo|bar=baz|biz="
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=baz|biz=")]

---

name:   incomplete_two_named_params
label:  incomplete templates that should fail gracefully: two named parameters with values
input:  "{{stuff}} {{foo|bar=baz|biz=buzz"
output: [TemplateOpen(), Text(text="stuff"), TemplateClose(), Text(text=" {{foo|bar=baz|biz=buzz")]
